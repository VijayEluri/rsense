type-inference --test=MegamorphicObject.InfinityLoop --should-be=Fixnum
def f(a)
  a = []
  a = []
  a = []
  a = []
  a = []
  f(a)
  1
end
f([])_|_
EOF

type-inference --test=Hash.OpElementAssign --should-be=String
a = {}
b = (a[''] ||= {})
b[''] = ''
a['']['']_|_
EOF

